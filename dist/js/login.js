"use strict";var _createClass=function(){function o(t,e){for(var c=0;c<e.length;c++){var o=e[c];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,c){return e&&o(t.prototype,e),c&&o(t,c),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}$(document).ready(function(){function t(){_classCallCheck(this,t)}function e(){_classCallCheck(this,e)}(new(_createClass(t,[{key:"pushNumber",value:function(){$(".refresh").off("click");var t=this,c=Array();c.length=4,$.each(c,function(t,e){c.push(Math.floor(10*Math.random()))}),$(".v-code").html(c),$(".refresh").on("click",function(){t.pushNumber(),$(".fast-log .v-c").val(""),$(".fast-log .v-c").css("border","1px solid #cccccc")})}}]),t)).pushNumber(),(new(_createClass(e,[{key:"switch",value:function(){$(".fast").on("click",function(){$(".fast-log").stop(!0).animate({left:60}),$(".account").stop(!0).animate({left:$(".account").width()+130})}),$(".acc").on("click",function(){$(".fast-log").stop(!0).animate({left:-$(".fast-log").width()}),$(".account").stop(!0).animate({left:60})})}}]),e)).switch(),$(".fast-log .phone").on("blur",function(){(function(){var t=$(".phone").val();return!!/^1(3|4|5|6|7|8|9)\d{9}$/.test(t)})()?($(this).css("border","1px solid green"),$(this).attr("correct",1)):($(this).css("border","1px solid red"),$(this).attr("correct",0))}),$(".fast-log .v-c").on("blur",function(){!function(){var t=$(".v-c").val();$(".v-code").html()!==t?($(".v-c").css("border","1px solid red"),$(".v-c").attr("correct",0)):($(".v-c").css("border","1px solid green"),$(".v-c").attr("correct",1))}()}),$(".fast-log .pw").on("blur",function(){var t=$(".pw").val();/^[\w_-]{6,16}$/.test(t)?($(".fast-log .pw").css("border","1px solid green"),$(".fast-log .pw").attr("correct",1)):($(".fast-log .pw").css("border","1px solid red"),$(".fast-log .pw").attr("correct",0))}),$(".fast-log .submit-btn input").on("click",function(){var c=0;$.each($(this).parent().parent().find("input"),function(t,e){t<=2&&(c+=parseInt($(this).attr("correct")))}),3!=c||!0!==$(".agree").is(":checked")?alert("注册信息有误"):$.ajax({type:"post",url:"http://10.31.157.69/TheNorthFace/php/pushuser.php",data:{username:$(".fast-log .phone").val().toString(),password:$(".pw").val().toString()},success:function(t){alert("注册成功，即将跳转首页..."),location.href="http://10.31.157.69/TheNorthFace/dist/html/main.html"}})}),$(".fast-log .phone,.fast-log .v-c,.pw").on("focus",function(){$(this).css("border","1px solid #a5a5a5")}),$(".account .submit-btn input").on("click",function(){var e=$(".account .phone").val(),t=$(".account .pw").val();console.log(e),$.ajax({type:"post",url:"http://10.31.157.69/TheNorthFace/php/login.php",data:{username:e,password:t},success:function(t){"true"==t?(location.href="http://10.31.157.69/TheNorthFace/dist/html/main.html",localStorage.setItem("user",e)):"false"==t&&alert("账号或密码不正确")}})})});